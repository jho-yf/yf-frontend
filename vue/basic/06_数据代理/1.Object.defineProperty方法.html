<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Object.defineProperty()</title>
</head>
<body>
    <script type="text/javascript">
        let person = {
            name: 'zhangsan',
            sex: '男'
        }

        let number = 18
        Object.defineProperty(person, 'age', {
            // 读取person的age属性时，get函数（getter）就会被调用，返回值就是age的值
            get() {
                console.log('age getter called.')
                return number
            },

            // 修改person的age属性时，set函数（setter）就会被调用，且可以接收到value值
            set(value) {
                console.log('age setter called. value: ', value)
                number = value
            }
        })

        Object.defineProperty(person, 'height', {
            value: 180,
            enumerable: true,       // 控制属性是否可以枚举，默认false
            writable: true,         // 控制属性是否可以被修改，默认false
            configurable: true      // 控制属性是否可以被删除，默认false
        })

        delete person.age
        person.height = 190
        console.log(person)
        console.log(Object.keys(person))

        number = 20
        console.log(person.age == number)
        number = 21
        console.log(person.age == number)

        person.age = 1000
        console.log(person.age == 1000)
        console.log(number == 1000)
    </script>
</body>
</html>